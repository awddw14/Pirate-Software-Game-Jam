[gd_scene load_steps=14 format=3 uid="uid://w0oq4ltku8q4"]

[ext_resource type="Script" uid="uid://cf78yxghjh26e" path="res://Main/Scripts/world.gd" id="1_0ivwq"]
[ext_resource type="PackedScene" uid="uid://cgqvjob73qmeq" path="res://Player/Scene/player.tscn" id="1_b8kj6"]
[ext_resource type="Texture2D" uid="uid://c4v8t4558345m" path="res://icon.svg" id="2_w51h7"]
[ext_resource type="PackedScene" uid="uid://ddsr50itu6o7x" path="res://Main/Scene/touch_sense_ui.tscn" id="3_leevy"]
[ext_resource type="PackedScene" uid="uid://cjsx1gxvmgrcm" path="res://Player/Scene/sense_ui.tscn" id="3_x3rxd"]
[ext_resource type="PackedScene" uid="uid://cvcgq6d6dlntw" path="res://Main/Scene/gun_inventory.tscn" id="5_aq6cu"]
[ext_resource type="PackedScene" uid="uid://ctt2xkp8c1twc" path="res://Main/Scene/gun_parts.tscn" id="7_rx81u"]
[ext_resource type="Texture2D" uid="uid://cxfvomce3remh" path="res://assets/gun_parts/ammobox.png" id="8_6y5d8"]
[ext_resource type="Texture2D" uid="uid://h3g4j2apfury" path="res://assets/gun_parts/small_bullet2.png" id="9_lbp6c"]
[ext_resource type="Texture2D" uid="uid://bvprk5w1whjoi" path="res://assets/gun_parts/magazine2.png" id="10_eknjm"]
[ext_resource type="Texture2D" uid="uid://c7q8tqnil6nfn" path="res://assets/gun_parts/grenade.png" id="11_r246a"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_leevy"]
size = Vector2(109, 115)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_leevy"]
cull_mode = 1
polygon = PackedVector2Array(59.1, -64, -59, -64, -63.8, -59, -64, 61, -60.3, 64, 59.6, 64, 63.9, 59, 64, -61.1)

[node name="World" type="Node2D"]
script = ExtResource("1_0ivwq")

[node name="bg_test" type="ColorRect" parent="."]
offset_left = -1484.0
offset_top = -1201.0
offset_right = 1819.0
offset_bottom = 1480.0
mouse_filter = 1

[node name="Player" parent="." instance=ExtResource("1_b8kj6")]

[node name="TileMapLayer" type="TileMapLayer" parent="."]

[node name="UI" type="CanvasLayer" parent="."]

[node name="Touch_Sense_UI" parent="UI" instance=ExtResource("3_leevy")]
offset_top = 67.0
offset_bottom = -508.0

[node name="won" type="Label" parent="UI"]
visible = false
self_modulate = Color(0, 1, 0, 1)
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -232.0
offset_top = -120.0
offset_right = 258.0
offset_bottom = 17.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1
theme_override_font_sizes/font_size = 100
text = "YOU WON"

[node name="current_sense" type="Label" parent="UI"]
self_modulate = Color(0, 0, 0, 1)
offset_right = 40.0
offset_bottom = 23.0
scale = Vector2(0.3, 0.3)
mouse_filter = 1
theme_override_font_sizes/font_size = 100
text = "Current Sense selected:"

[node name="Gun_Inventory" parent="UI" instance=ExtResource("5_aq6cu")]
offset_left = 230.0
offset_top = 47.0
offset_right = 230.0
offset_bottom = 47.0
scale = Vector2(0.8, 0.8)

[node name="Sense_UI" parent="UI" instance=ExtResource("3_x3rxd")]
offset_left = 432.0
offset_top = 527.0
offset_right = 432.0
offset_bottom = 527.0

[node name="CharacterBody2D" type="CharacterBody2D" parent="." groups=["Monster"]]
modulate = Color(1, 0.151344, 0.108333, 1)
position = Vector2(787, 343)

[node name="test2" type="Sprite2D" parent="CharacterBody2D"]
texture = ExtResource("2_w51h7")

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D"]
position = Vector2(-1.5, -0.5)
shape = SubResource("RectangleShape2D_leevy")

[node name="LightOccluder2D" type="LightOccluder2D" parent="CharacterBody2D"]
occluder = SubResource("OccluderPolygon2D_leevy")

[node name="CanvasModulate" type="CanvasModulate" parent="."]

[node name="ammobox_item" parent="." instance=ExtResource("7_rx81u")]
position = Vector2(391, 237)
icon = ExtResource("8_6y5d8")
part_name = "Ammobox"

[node name="bullet_item" parent="." instance=ExtResource("7_rx81u")]
position = Vector2(637, 116)
icon = ExtResource("9_lbp6c")
part_name = "Bullet"

[node name="magazine_item" parent="." instance=ExtResource("7_rx81u")]
position = Vector2(48, 323)
icon = ExtResource("10_eknjm")
part_name = "Magazine"

[node name="grenade_item" parent="." instance=ExtResource("7_rx81u")]
position = Vector2(437, -40)
icon = ExtResource("11_r246a")
part_name = "Grenade"

[connection signal="all_parts" from="UI/Gun_Inventory" to="." method="_on_gun_inventory_all_parts"]
[connection signal="collected" from="ammobox_item" to="." method="_on_item_collected"]
[connection signal="collected" from="bullet_item" to="." method="_on_item_collected"]
[connection signal="collected" from="magazine_item" to="." method="_on_item_collected"]
[connection signal="collected" from="grenade_item" to="." method="_on_item_collected"]
