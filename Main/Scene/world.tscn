[gd_scene load_steps=14 format=3 uid="uid://w0oq4ltku8q4"]

[ext_resource type="Script" uid="uid://cf78yxghjh26e" path="res://Main/Scripts/world.gd" id="1_0ivwq"]
[ext_resource type="PackedScene" uid="uid://cgqvjob73qmeq" path="res://Player/Scene/player.tscn" id="1_b8kj6"]
[ext_resource type="PackedScene" uid="uid://ddsr50itu6o7x" path="res://Main/Scene/touch_sense_ui.tscn" id="3_leevy"]
[ext_resource type="PackedScene" uid="uid://cjsx1gxvmgrcm" path="res://Player/Scene/sense_ui.tscn" id="3_x3rxd"]
[ext_resource type="PackedScene" uid="uid://cvcgq6d6dlntw" path="res://Main/Scene/gun_inventory.tscn" id="5_aq6cu"]
[ext_resource type="Texture2D" uid="uid://clygk5s0vu2ar" path="res://Player/testChar/hit_0.png" id="6_lbp6c"]
[ext_resource type="PackedScene" uid="uid://ctt2xkp8c1twc" path="res://Main/Scene/gun_parts.tscn" id="7_rx81u"]
[ext_resource type="Texture2D" uid="uid://cxfvomce3remh" path="res://assets/gun_parts/ammobox.png" id="8_6y5d8"]
[ext_resource type="Texture2D" uid="uid://h3g4j2apfury" path="res://assets/gun_parts/small_bullet2.png" id="9_lbp6c"]
[ext_resource type="Texture2D" uid="uid://bvprk5w1whjoi" path="res://assets/gun_parts/magazine2.png" id="10_eknjm"]
[ext_resource type="Texture2D" uid="uid://c7q8tqnil6nfn" path="res://assets/gun_parts/grenade.png" id="11_r246a"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_leevy"]
size = Vector2(109, 115)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_lbp6c"]
cull_mode = 1
polygon = PackedVector2Array(-37, 57.8, -37, 59.1, -71.2, 62, -78.3, 62, -117.1, 73, -121.4, 73, -164.4, 93, -166.6, 93, -187.6, 107, -189.7, 107, -215.7, 129, -217.9, 129, -251.9, 166, -253.1, 166, -273.1, 196, -274.3, 196, -290.3, 229, -291.5, 229, -305.5, 273, -306.7, 273, -312.7, 312, -314, 312, -315, 357, -315, 360.2, -311, 386.3, -311, 393.3, -303, 422, -303, 427.4, -290, 458.3, -290, 461.6, -266, 501.5, -266, 503.7, -244, 529.7, -244, 531.9, -203, 568.8, -203, 570.1, -168, 592.1, -168, 593.3, -131, 609.2, -131, 610.5, -87.3, 623, -84.7, 623, -81, 640.4, -81, 646.4, -75, 662.4, -75, 665.6, -65, 681.6, -65, 683.9, -51, 696.9, -51, 698.2, -39, 704.2, -39, 705.6, -20, 709.6, -20, 711, 3.30005, 711, 15.3, 707, 18.6, 707, 31.5, 698, 33.9, 698, 44.9, 686, 46.1, 686, 55.1, 671, 56.4, 671, 77, 609.3, 77, 607.2, 110.5, 591, 112.7, 591, 151.7, 562, 153.8, 562, 185.8, 529, 187, 529, 206, 503, 207.2, 503, 228.2, 464, 229.4, 464, 241.4, 430, 242.6, 430, 251.7, 387, 252.9, 387, 254.9, 354, 256.1, 354, 253, 308.9, 253, 301.7, 241, 255, 241, 251.5, 217, 201.5, 217, 199.3, 198, 173.3, 198, 171.2, 183, 155.1, 183, 153.1, 154, 126, 154, 125, 130, 107.9, 130, 106.8, 82, 81.7, 82, 80.5, 51, 70.5, 51, 69.4, 26, 64.3, 26, 63.2)

[node name="World" type="Node2D"]
script = ExtResource("1_0ivwq")

[node name="bg_test" type="ColorRect" parent="."]
offset_left = -1484.0
offset_top = -1201.0
offset_right = 1819.0
offset_bottom = 1480.0
mouse_filter = 1

[node name="Player" parent="." instance=ExtResource("1_b8kj6")]

[node name="TileMapLayer" type="TileMapLayer" parent="."]

[node name="UI" type="CanvasLayer" parent="."]

[node name="Touch_Sense_UI" parent="UI" instance=ExtResource("3_leevy")]
offset_top = 67.0
offset_bottom = -508.0

[node name="won" type="Label" parent="UI"]
visible = false
self_modulate = Color(0, 1, 0, 1)
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -232.0
offset_top = -120.0
offset_right = 258.0
offset_bottom = 17.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1
theme_override_font_sizes/font_size = 100
text = "YOU WON"

[node name="current_sense" type="Label" parent="UI"]
self_modulate = Color(0, 0, 0, 1)
offset_right = 40.0
offset_bottom = 23.0
scale = Vector2(0.3, 0.3)
mouse_filter = 1
theme_override_font_sizes/font_size = 100
text = "Current Sense selected:"

[node name="Gun_Inventory" parent="UI" instance=ExtResource("5_aq6cu")]
offset_left = 230.0
offset_top = 47.0
offset_right = 230.0
offset_bottom = 47.0
scale = Vector2(0.8, 0.8)

[node name="Sense_UI" parent="UI" instance=ExtResource("3_x3rxd")]
offset_left = 432.0
offset_top = 527.0
offset_right = 432.0
offset_bottom = 527.0

[node name="CharacterBody2D" type="CharacterBody2D" parent="." groups=["Monster"]]
position = Vector2(787, 343)

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D"]
position = Vector2(-1.5, -0.5)
shape = SubResource("RectangleShape2D_leevy")

[node name="LightOccluder2D" type="LightOccluder2D" parent="CharacterBody2D"]
position = Vector2(0, -63)
scale = Vector2(0.15, 0.15)
occluder = SubResource("OccluderPolygon2D_lbp6c")

[node name="test2" type="Sprite2D" parent="CharacterBody2D"]
self_modulate = Color(1, 0, 0, 1)
position = Vector2(0, -63)
scale = Vector2(0.15, 0.15)
texture = ExtResource("6_lbp6c")

[node name="CanvasModulate" type="CanvasModulate" parent="."]

[node name="ammobox_item" parent="." instance=ExtResource("7_rx81u")]
position = Vector2(391, 237)
icon = ExtResource("8_6y5d8")
part_name = "Ammobox"

[node name="bullet_item" parent="." instance=ExtResource("7_rx81u")]
position = Vector2(637, 116)
icon = ExtResource("9_lbp6c")
part_name = "Bullet"

[node name="magazine_item" parent="." instance=ExtResource("7_rx81u")]
position = Vector2(48, 323)
icon = ExtResource("10_eknjm")
part_name = "Magazine"

[node name="grenade_item" parent="." instance=ExtResource("7_rx81u")]
position = Vector2(437, -40)
icon = ExtResource("11_r246a")
part_name = "Grenade"

[connection signal="all_parts" from="UI/Gun_Inventory" to="." method="_on_gun_inventory_all_parts"]
[connection signal="collected" from="ammobox_item" to="." method="_on_item_collected"]
[connection signal="collected" from="bullet_item" to="." method="_on_item_collected"]
[connection signal="collected" from="magazine_item" to="." method="_on_item_collected"]
[connection signal="collected" from="grenade_item" to="." method="_on_item_collected"]
